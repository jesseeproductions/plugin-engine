!function(e,t){function n(t){new QTags(t),QTags._buttonsInit();var n=e("#"+t).data("toggleHtml_buttons");if(n&&pngx_editor_vars.html_editor_buttons){n=n.split(",");var r=[];for("undefined"!=typeof edButtons&&edButtons.forEach(function(e){r.push(e.id)}),i=0;i<pngx_editor_vars.html_editor_buttons.length;i++)jQuery.inArray(pngx_editor_vars.html_editor_buttons[i].id,r)>=0||jQuery.inArray(pngx_editor_vars.html_editor_buttons[i].id,n)>=0&&QTags.addButton(pngx_editor_vars.html_editor_buttons[i].id,pngx_editor_vars.html_editor_buttons[i].display,pngx_editor_vars.html_editor_buttons[i].arg1,pngx_editor_vars.html_editor_buttons[i].arg2,pngx_editor_vars.html_editor_buttons[i].access_key,pngx_editor_vars.html_editor_buttons[i].title,pngx_editor_vars.html_editor_buttons[i].priority,t)}}function r(t,i){var n=e("#"+t).data("toggleToolbar_1");return n?n:i?"forecolor,bold,italic,underline,strikethrough,hr,charmap,alignleft,aligncenter,alignright,link,unlink,spellchecker,pastetext,removeformat":"formatselect,forecolor,bold,italic,underline,strikethrough,hr,bullist,numlist,alignleft,aligncenter,alignright,link,unlink,wp_adv"}function o(t,i){var n=e("#"+t).data("toggleToolbar_2");return n?n:i?"":"fontselect,fontsizeselect,blockquote,pastetext,removeformat,charmap,outdent,indent,undo,redo,spellchecker,fullscreen,wp_help"}function s(t){var i=e("#"+t).data("toggleToolbar_3");return i?i:""}function a(t,n,a,l){var d=e("#"+n).data(),p=d.toggleContent_css,c=d.toggleWpautop_disable;return{mode:"tmce",mceInit:{theme:"modern",skin:"lightgray",language:"en",fontsize_formats:"6px 8px 10px 12px 14px 16px 18px 20px 22px 24px 26px 28px 30px 36px 40px",formats:{alignleft:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"left"},deep:!1,remove:"none"},{selector:"img,table,dl.wp-caption",classes:["alignleft"],deep:!1,remove:"none"}],aligncenter:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"center"},deep:!1,remove:"none"},{selector:"img,table,dl.wp-caption",classes:["aligncenter"],deep:!1,remove:"none"}],alignright:[{selector:"p,h1,h2,h3,h4,h5,h6,td,th,div,ul,ol,li",styles:{textAlign:"right"},deep:!1,remove:"none"},{selector:"img,table,dl.wp-caption",classes:["alignright"],deep:!1,remove:"none"}],strikethrough:{inline:"del",deep:!0,split:!0}},relative_urls:!1,remove_script_host:!1,convert_urls:!1,browser_spellcheck:!0,fix_list_elements:!0,entities:"38,amp,60,lt,62,gt",entity_encoding:"raw",keep_styles:!1,paste_webkit_styles:"font-weight font-style color",preview_styles:"font-family font-size font-weight font-style text-decoration text-transform",wpeditimage_disable_captions:!1,wpeditimage_html5_captions:!1,plugins:"charmap,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpeditimage,wpgallery,wplink,wpdialogs,wpview,image",content_css:t+"css/dashicons.css?ver=4.7,"+t+"js/mediaelement/mediaelementplayer.min.css?ver=4.7,"+t+"js/mediaelement/wp-mediaelement.css?ver=4.7,"+t+"js/tinymce/skins/wordpress/wp-content.css?ver=4.7, "+p,selector:"#"+n,resize:"vertical",menubar:!1,wpautop:!c,indent:!1,toolbar1:r(n,l),toolbar2:o(n,l),toolbar3:s(n),toolbar4:"",tabfocus_elements:":prev,:next",body_class:n,setup:function(e){for(i=0;i<a.length;i++)"wrap"===a[i].type&&e.addButton(a[i].addButton,{title:a[i].title,text:a[i].text,icon:a[i].icon,onclick:function(t,i){return function(){var t=e.selection.getContent(),n="";n=i.wrapopentag+t+i.wrapclosetag,e.execCommand("mceInsertContent",0,n)}}(i,a[i])})}}}}e.fn.wp_editor=function(t,i,r){if(e(this).is("textarea")||console.warn("Element must be a textarea"),"undefined"!=typeof tinyMCEPreInit&&"undefined"!=typeof QTags&&"undefined"!=typeof pngx_editor_vars||console.warn("js_wp_editor( $settings ); must be loaded"),!e(this).is("textarea")||"undefined"==typeof tinyMCEPreInit||"undefined"==typeof QTags||"undefined"==typeof pngx_editor_vars)return this;var o={},s=a(pngx_editor_vars.includes_url,i,pngx_editor_vars.visual_editor_buttons,r);return id_regexp=new RegExp(i,"g"),tinyMCEPreInit.mceInit[i]&&(o.mceInit=tinyMCEPreInit.mceInit[i]),s=e.extend(!0,o,s),t=e.extend(!0,s,t),this.each(function(){if(e(this).is("textarea")?"false"===pngx_editor_vars.rich_editing&&n(i):console.warn("Element must be a textarea"),"true"===pngx_editor_vars.rich_editing){var o=e(this).attr("id");e.each(t.mceInit,function(i,n){"string"==e.type(n)&&(t.mceInit[i]=n.replace(id_regexp,o))}),t.mode="tmce"==t.mode?"tmce":"html","undefined"!=typeof tinyMCEPreInit.mceInit[o]&&tinyMCE.remove(tinymce.editors[o]),tinyMCEPreInit.mceInit[o]=t.mceInit,e(this).addClass("wp-editor-area").show();var s=this;if(e(this).closest(".wp-editor-wrap").length){var a=e(this).closest(".wp-editor-wrap").parent();e(this).closest(".wp-editor-wrap").before(e(this).clone()),e(this).closest(".wp-editor-wrap").remove(),s=a.find('textarea[id="'+o+'"]')}var l=e('<div id="wp-'+o+'-wrap" class="wp-core-ui wp-editor-wrap '+t.mode+'-active" />'),d=e('<div id="wp-'+o+'-editor-tools" class="wp-editor-tools hide-if-no-js" />'),p=e('<div class="wp-editor-tabs" />'),c=e('<a id="'+o+'-tmce" class="wp-switch-editor switch-tmce" data-wp-editor-id="'+o+'">Visual</a>'),m=e('<a id="'+o+'-html" class="wp-switch-editor switch-html" data-wp-editor-id="'+o+'">Text</a>'),h=e('<div id="wp-'+o+'-media-buttons" class="wp-media-buttons" />'),u=e('<a href="#" id="insert-media-button" class="button insert-media add_media" data-editor="'+o+'" title="Add Media"><span class="wp-media-buttons-icon"></span> Add Media</a>'),_=e('<div id="wp-'+o+'-editor-container" class="wp-editor-container" />'),g=!1;u.appendTo(h),h.appendTo(d),c.appendTo(p),m.appendTo(p),p.appendTo(d),r||d.appendTo(l),_.appendTo(l),_.append(e(s).clone().addClass("wp-editor-area")),0!=g&&e.each(g,function(){e('link[href="'+this+'"]').length||e(s).before('<link rel="stylesheet" type="text/css" href="'+this+'">')}),e(s).before('<link rel="stylesheet" id="editor-buttons-css" href="'+pngx_editor_vars.includes_url+'css/editor.css" type="text/css" media="all">'),e(s).before(l),e(s).remove(),n(i),switchEditors.go(o,t.mode),e(l).on("click",".insert-media",function(t){var i=e(t.currentTarget),n=i.data("editor"),r={frame:"post",state:"insert",title:wp.media.view.l10n.addMedia,multiple:!0};t.preventDefault(),i.blur(),i.hasClass("gallery")&&(r.state="gallery",r.title=wp.media.view.l10n.createGalleryTitle),wp.media.editor.open(n,r)})}})}}(jQuery,window);